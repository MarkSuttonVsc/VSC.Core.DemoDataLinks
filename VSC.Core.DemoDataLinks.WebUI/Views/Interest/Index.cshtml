@using VSC.Core.DemoDataLinks.Model
@using VSC.Core.ViewModel
@model IndexViewModel<Interest>
@{
    ViewData["Title"] = Model.RowTypeTitlePlural;
}

<h2>@ViewData["Title"] <span class="text-secondary" style="font-size:smaller!important">(@Model.SessionViewModel.RowCount)</span></h2>

<p></p>

<query-grid-empty-message></query-grid-empty-message>

<hidden-if-empty count="@Model.Rows.Count()">
    <query-grid-pager></query-grid-pager>
    <table class="table">
        <thead>
            <tr>
                <th>Title</th>
                <th>Description</th>
                <th>People</th>
                <th class="button-col-4"><datamodel-add-button></datamodel-add-button></th>
            </tr>
        </thead>
        <tbody>
            @foreach (var row in Model.Rows)
            {
                <tr>
                    <td>@row.Title</td>
                    <td>@row.Description</td>
                    <td>@row.PersonalInterests.Count()</td>
                    <td class="button-cell"><datamodel-edit-buttons row-object="@row"></datamodel-edit-buttons></td>
                </tr>
            }
        </tbody>
    </table>
</hidden-if-empty>

@section Head
{
    <query-grid-add-styles></query-grid-add-styles>
}

@section Scripts
{
    <query-grid-add-scripts></query-grid-add-scripts>
}